<?xml version="1.0" encoding="UTF-8"?>
<!--adicionado aggregation_1 antes do projection_1

... como esperar adicionou um novo calculationView entre teste123 e projection_1
... aparetemente essa nova calculationView tem as mesmas tags e comportamento das demais, somente tem um tipo diferente (AggregationView)
... será que é assim para  join tbm???


... ué... sumiu os attributes do logicalModel???!!! ops.... esquecido de adicionar eles na aggregation final


-->
<Calculation:scenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Calculation="http://www.sap.com/ndb/BiModelCalculation.ecore" schemaVersion="2.3" id="TESTE_ALTERNATIVE" applyPrivilegeType="ANALYTIC_PRIVILEGE" checkAnalyticPrivileges="true" defaultClient="$$client$$" defaultLanguage="$$language$$" hierarchiesSQLEnabled="false" translationRelevant="true" visibility="reportingEnabled" calculationScenarioType="TREE_BASED" dataCategory="CUBE" enforceSqlExecution="false" executionSemantic="UNDEFINED" outputViewType="Aggregation">
	<origin/>
	<descriptions defaultDescription="TESTE_ALTERNATIVE"/>
	<metadata changedAt="2020-04-17 09:53:47.583"/>
	<localVariables/>
	<variableMappings/>
	<informationModelLayout relativeWidthScenario="40"/>
	<dataSources>
		<DataSource id="MATERIAL_BOM_HEADER" type="CALCULATION_VIEW">
			<viewAttributes allViewAttributes="true"/>
			<resourceUri>/DataCleansing.MaterialData/calculationviews/MATERIAL_BOM_HEADER</resourceUri>
		</DataSource>
	</dataSources>
	<calculationViews>
		<calculationView xsi:type="Calculation:ProjectionView" id="teste123">
			<descriptions/>
			<viewAttributes>
				<viewAttribute id="plant_werks"/>
				<viewAttribute id="MATNR"/>
			</viewAttributes>
			<calculatedViewAttributes>
				<calculatedViewAttribute datatype="VARCHAR" id="ColunaCalculada" length="100" expressionLanguage="COLUMN_ENGINE">
					<formula>'teste coluna calculada'</formula>
				</calculatedViewAttribute>
				<calculatedViewAttribute datatype="VARCHAR" id="teste_matnr" length="18" expressionLanguage="COLUMN_ENGINE">
					<formula>&quot;MATNR&quot;</formula>
				</calculatedViewAttribute>
			</calculatedViewAttributes>
			<input node="#MATERIAL_BOM_HEADER">
				<mapping xsi:type="Calculation:AttributeMapping" target="plant_werks" source="WERKS"/>
				<mapping xsi:type="Calculation:AttributeMapping" target="MATNR" source="MATNR"/>
			</input>
		</calculationView>
		<calculationView xsi:type="Calculation:AggregationView" id="Aggregation_1">
			<descriptions/>
			<viewAttributes>
				<viewAttribute id="plant_werks"/>
				<viewAttribute id="MATNR"/>
			</viewAttributes>
			<calculatedViewAttributes/>
			<input node="#teste123">
				<mapping xsi:type="Calculation:AttributeMapping" target="plant_werks" source="plant_werks"/>
				<mapping xsi:type="Calculation:AttributeMapping" target="MATNR" source="MATNR"/>
			</input>
		</calculationView>
		<calculationView xsi:type="Calculation:ProjectionView" id="Projection_1">
			<descriptions/>
			<viewAttributes>
				<viewAttribute id="plant_werks"/>
				<viewAttribute id="MATNR"/>
			</viewAttributes>
			<calculatedViewAttributes/>
			<input node="#Aggregation_1">
				<mapping xsi:type="Calculation:AttributeMapping" target="plant_werks" source="plant_werks"/>
				<mapping xsi:type="Calculation:AttributeMapping" target="MATNR" source="MATNR"/>
			</input>
		</calculationView>
	</calculationViews>
	<logicalModel id="Projection_1">
		<descriptions/>
		<attributes/>
		<calculatedAttributes>
			<calculatedAttribute id="VAL_CODE" hidden="false" order="1" semanticType="empty" attributeHierarchyActive="false" displayAttribute="false">
				<descriptions defaultDescription="Validation Code"/>
				<keyCalculation datatype="VARCHAR" expressionLanguage="COLUMN_ENGINE" length="10">
					<formula>'teste'</formula>
				</keyCalculation>
			</calculatedAttribute>
		</calculatedAttributes>
		<privateDataFoundation>
			<tableProxies/>
			<joins/>
			<layout>
				<shapes/>
			</layout>
		</privateDataFoundation>
		<baseMeasures/>
		<calculatedMeasures>
			<measure id="VAL_COUNT" hidden="false" order="2" aggregationType="sum" measureType="simple" datatype="INTEGER" expressionLanguage="COLUMN_ENGINE">
				<descriptions defaultDescription="VAL_COUNT"/>
				<formula>1</formula>
			</measure>
		</calculatedMeasures>
		<restrictedMeasures/>
		<localDimensions/>
	</logicalModel>
	<layout>
		<shapes>
			<shape expanded="true" modelObjectName="Output" modelObjectNameSpace="MeasureGroup">
				<upperLeftCorner x="40" y="85"/>
				<rectangleSize height="0" width="0"/>
			</shape>
			<shape expanded="true" modelObjectName="teste123" modelObjectNameSpace="CalculationView">
				<upperLeftCorner x="60" y="420"/>
				<rectangleSize height="-1" width="-1"/>
			</shape>
			<shape expanded="true" modelObjectName="Projection_1" modelObjectNameSpace="CalculationView">
				<upperLeftCorner x="70" y="200"/>
				<rectangleSize height="-1" width="-1"/>
			</shape>
			<shape expanded="true" modelObjectName="Aggregation_1" modelObjectNameSpace="CalculationView">
				<upperLeftCorner x="80" y="281"/>
				<rectangleSize height="-1" width="-1"/>
			</shape>
		</shapes>
	</layout>
</Calculation:scenario>