<?xml version="1.0" encoding="UTF-8"?>
<!--adicionado o campo MATNT no projection_1 porem não foi levado para o aggregation

... como esperado o calculationView da projection_1 sofreu alteração no viewAttribute e input

... logicalModel não sofreu alteração... acredito que ele é o semantic + o agregation
...... attributes são os atributos provenientes de outro node
...... calculatedAttributes são campo calculado que não é measure
...... calculatedMeasures são os campos calculados que são do tipo measure



-->
<Calculation:scenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Calculation="http://www.sap.com/ndb/BiModelCalculation.ecore" schemaVersion="2.3" id="TESTE_ALTERNATIVE" applyPrivilegeType="ANALYTIC_PRIVILEGE" checkAnalyticPrivileges="true" defaultClient="$$client$$" defaultLanguage="$$language$$" hierarchiesSQLEnabled="false" translationRelevant="true" visibility="reportingEnabled" calculationScenarioType="TREE_BASED" dataCategory="CUBE" enforceSqlExecution="false" executionSemantic="UNDEFINED" outputViewType="Aggregation">
	<origin/>
	<descriptions defaultDescription="TESTE_ALTERNATIVE"/>
	<metadata changedAt="2020-04-17 09:31:55.795"/>
	<localVariables/>
	<variableMappings/>
	<informationModelLayout relativeWidthScenario="40"/>
	<dataSources>
		<DataSource id="MATERIAL_BOM_HEADER" type="CALCULATION_VIEW">
			<viewAttributes allViewAttributes="true"/>
			<resourceUri>/DataCleansing.MaterialData/calculationviews/MATERIAL_BOM_HEADER</resourceUri>
		</DataSource>
	</dataSources>
	<calculationViews>
		<calculationView xsi:type="Calculation:ProjectionView" id="teste123">
			<descriptions/>
			<viewAttributes>
				<viewAttribute id="plant_werks"/>
				<viewAttribute id="MATNR"/>
			</viewAttributes>
			<calculatedViewAttributes/>
			<input node="#MATERIAL_BOM_HEADER">
				<mapping xsi:type="Calculation:AttributeMapping" target="plant_werks" source="WERKS"/>
				<mapping xsi:type="Calculation:AttributeMapping" target="MATNR" source="MATNR"/>
			</input>
		</calculationView>
		<calculationView xsi:type="Calculation:ProjectionView" id="Projection_1">
			<descriptions/>
			<viewAttributes>
				<viewAttribute id="WERKS"/>
				<viewAttribute id="MATNR"/>
			</viewAttributes>
			<calculatedViewAttributes/>
			<input node="#teste123">
				<mapping xsi:type="Calculation:AttributeMapping" target="WERKS" source="plant_werks"/>
				<mapping xsi:type="Calculation:AttributeMapping" target="MATNR" source="MATNR"/>
			</input>
		</calculationView>
	</calculationViews>
	<logicalModel id="Projection_1">
		<descriptions/>
		<attributes>
			<attribute id="WERKS" order="3" attributeHierarchyActive="false" displayAttribute="false">
				<descriptions defaultDescription="WERKS"/>
				<keyMapping columnObjectName="Projection_1" columnName="WERKS"/>
			</attribute>
		</attributes>
		<calculatedAttributes>
			<calculatedAttribute id="VAL_CODE" hidden="false" order="1" semanticType="empty" attributeHierarchyActive="false" displayAttribute="false">
				<descriptions defaultDescription="Validation Code"/>
				<keyCalculation datatype="VARCHAR" expressionLanguage="COLUMN_ENGINE" length="10">
					<formula>'teste'</formula>
				</keyCalculation>
			</calculatedAttribute>
		</calculatedAttributes>
		<privateDataFoundation>
			<tableProxies/>
			<joins/>
			<layout>
				<shapes/>
			</layout>
		</privateDataFoundation>
		<baseMeasures/>
		<calculatedMeasures>
			<measure id="VAL_COUNT" hidden="false" order="2" aggregationType="sum" measureType="simple" datatype="INTEGER" expressionLanguage="COLUMN_ENGINE">
				<descriptions defaultDescription="VAL_COUNT"/>
				<formula>1</formula>
			</measure>
		</calculatedMeasures>
		<restrictedMeasures/>
		<localDimensions/>
	</logicalModel>
	<layout>
		<shapes>
			<shape expanded="true" modelObjectName="Output" modelObjectNameSpace="MeasureGroup">
				<upperLeftCorner x="40" y="85"/>
				<rectangleSize height="0" width="0"/>
			</shape>
			<shape expanded="true" modelObjectName="teste123" modelObjectNameSpace="CalculationView">
				<upperLeftCorner x="80" y="340"/>
				<rectangleSize height="-1" width="-1"/>
			</shape>
			<shape expanded="true" modelObjectName="Projection_1" modelObjectNameSpace="CalculationView">
				<upperLeftCorner x="80" y="260"/>
				<rectangleSize height="-1" width="-1"/>
			</shape>
		</shapes>
	</layout>
</Calculation:scenario>